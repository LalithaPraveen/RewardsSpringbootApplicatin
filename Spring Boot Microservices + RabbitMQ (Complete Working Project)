Spring Boot Microservices + RabbitMQ (Complete Working Project)
This is a ready-to-run, end‚Äëto‚Äëend project you can use today.
________________________________________
üß± Architecture
Angular UI (optional)
      |
      v
API Gateway (8080)
      |
      v
User Service  ----> RabbitMQ ---->  Order Service
      |
      v
   H2 DB
________________________________________
üìÅ Project Structure
microservices-project/
‚îÇ
‚îú‚îÄ‚îÄ discovery-service
‚îú‚îÄ‚îÄ api-gateway
‚îú‚îÄ‚îÄ user-service
‚îú‚îÄ‚îÄ order-service
‚îî‚îÄ‚îÄ docker-compose.yml
________________________________________
1Ô∏è‚É£ Discovery Service (Eureka)
Dependencies
‚Ä¢	Spring Web
‚Ä¢	Eureka Server
Main Class
@SpringBootApplication
@EnableEurekaServer
public class DiscoveryServiceApplication {
    public static void main(String[] args) {
        SpringApplication.run(DiscoveryServiceApplication.class, args);
    }
}
application.yml
server:
  port: 8761

spring:
  application:
    name: discovery-service

eureka:
  client:
    register-with-eureka: false
    fetch-registry: false
________________________________________
2Ô∏è‚É£ API Gateway
Dependencies
‚Ä¢	Spring Cloud Gateway
‚Ä¢	Eureka Discovery Client
application.yml
server:
  port: 8080

spring:
  application:
    name: api-gateway
  cloud:
    gateway:
      routes:
        - id: user-service
          uri: lb://USER-SERVICE
          predicates:
            - Path=/users/**

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka
________________________________________
3Ô∏è‚É£ User Service (Producer)
Dependencies
‚Ä¢	Spring Web
‚Ä¢	Spring Data JPA
‚Ä¢	H2 Database
‚Ä¢	Spring AMQP
‚Ä¢	Eureka Client
application.yml
server:
  port: 0

spring:
  application:
    name: user-service

  datasource:
    url: jdbc:h2:mem:userdb
    driver-class-name: org.h2.Driver
    username: sa
    password:

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true

  h2:
    console:
      enabled: true

  rabbitmq:
    host: localhost
    port: 5672
    username: guest
    password: guest

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka
Entity
@Entity
@Data
public class User {
    @Id
    @GeneratedValue
    private Long id;
    private String name;
}
RabbitMQ Config
@Configuration
public class RabbitMQConfig {
    public static final String QUEUE = "order.queue";
    public static final String EXCHANGE = "order.exchange";
    public static final String ROUTING_KEY = "order.created";

    @Bean
    Queue queue() {
        return new Queue(QUEUE, true);
    }

    @Bean
    DirectExchange exchange() {
        return new DirectExchange(EXCHANGE);
    }

    @Bean
    Binding binding() {
        return BindingBuilder.bind(queue()).to(exchange()).with(ROUTING_KEY);
    }
}
Producer
@Service
public class OrderProducer {
    private final RabbitTemplate rabbitTemplate;

    public OrderProducer(RabbitTemplate rabbitTemplate) {
        this.rabbitTemplate = rabbitTemplate;
    }

    public void sendOrder() {
        rabbitTemplate.convertAndSend(
            RabbitMQConfig.EXCHANGE,
            RabbitMQConfig.ROUTING_KEY,
            "ORDER_CREATED"
        );
    }
}
Controller
@RestController
@RequestMapping("/users")
public class UserController {

    private final OrderProducer producer;

    public UserController(OrderProducer producer) {
        this.producer = producer;
    }

    @PostMapping("/create-order")
    public String createOrder() {
        producer.sendOrder();
        return "Order event sent";
    }
}
________________________________________
4Ô∏è‚É£ Order Service (Consumer)
Dependencies
‚Ä¢	Spring Web
‚Ä¢	Spring AMQP
‚Ä¢	Eureka Client
application.yml
server:
  port: 0

spring:
  application:
    name: order-service

  rabbitmq:
    host: localhost
    port: 5672
    username: guest
    password: guest

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka
Consumer
@Service
public class OrderConsumer {

    @RabbitListener(queues = "order.queue")
    public void consume(String message) {
        System.out.println("Received from RabbitMQ: " + message);
    }
}
________________________________________
5Ô∏è‚É£ Run RabbitMQ (Docker)
docker run -d \
 --name rabbitmq \
 -p 5672:5672 \
 -p 15672:15672 \
 rabbitmq:3-management
UI:
http://localhost:15672
________________________________________
‚ñ∂Ô∏è Run Order
1.	RabbitMQ
2.	Discovery Service
3.	Order Service
4.	User Service
5.	API Gateway
________________________________________
üß™ Test
POST http://localhost:8080/users/create-order
Expected in order-service logs:
Received from RabbitMQ: ORDER_CREATED
________________________________________
‚úÖ What You Have Now
‚Ä¢	Full microservices setup
‚Ä¢	H2 DB
‚Ä¢	RabbitMQ async messaging
‚Ä¢	Eureka discovery
‚Ä¢	API Gateway routing
________________________________________
üöÄ Next Enhancements
‚Ä¢	Retry & Dead Letter Queue
‚Ä¢	Kafka version
‚Ä¢	Docker Compose
‚Ä¢	JWT Security
‚Ä¢	Angular UI integration
You can build on this for interviews or real projects.
